<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Home · ModiaMedia</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link href="assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>ModiaMedia</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="search.html"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li class="current"><a class="toctext" href="index.html">Home</a><ul class="internal"><li><a class="toctext" href="#Installation-1">Installation</a></li><li><a class="toctext" href="#Use-1">Use</a></li><li><a class="toctext" href="#Available-media-1">Available media</a></li><li><a class="toctext" href="#Structure-of-package-1">Structure of package</a></li><li><a class="toctext" href="#Main-Developers-1">Main Developers</a></li><li><a class="toctext" href="#Release-Notes-1">Release Notes</a></li></ul></li><li><span class="toctext">Library</span><ul><li><a class="toctext" href="lib/MediaTypes.html">Media Types</a></li><li><a class="toctext" href="lib/Types.html">Exported Types</a></li><li><a class="toctext" href="lib/Functions.html">Exported Functions</a></li></ul></li></ul></nav><article id="docs"><header><nav><ul><li><a href="index.html">Home</a></li></ul><a class="edit-page" href="https://github.com/ModiaSim/ModiaMedia.jl/blob/master/docs/src/index.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Home</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="ModiaMedia.jl-Documentation-1" href="#ModiaMedia.jl-Documentation-1">ModiaMedia.jl Documentation</a></h1><p><a href="https://github.com/ModiaSim/ModiaMedia.jl">ModiaMedia</a> provides thermodynamic property models for use with <a href="https://github.com/ModiaSim/Modia.jl">Modia</a> and other Julia packages. The initial goal is to achieve a similar functionality as <a href="https://doc.modelica.org/Modelica%203.2.3/Resources/helpDymola/Modelica_Media.html#Modelica.Media">Modelica.Media</a>, the standard media library for Modelica models, but with improvements based on Julia features such as multiple dispatch.</p><p>This package is under development and it is planned to provide all thermodynamic property models from <a href="https://doc.modelica.org/Modelica%203.2.3/Resources/helpDymola/Modelica_Media.html#Modelica.Media">Modelica.Media</a> in this package.</p><h2><a class="nav-anchor" id="Installation-1" href="#Installation-1">Installation</a></h2><p>This package is currently under development and is not yet registered in METADATA. Julia 1.0 is required. Installation is performed via:</p><pre><code class="language-julia">julia&gt; ]add https://github.com/ModiaSim/ModiaMedia.jl</code></pre><p>ModiaMedia uses <a href="https://github.com/JuliaPy/PyPlot.jl">PyPlot</a> for plotting (via ModiaMath.plot). If <code>PyPlot</code> is not available in your current Julia environment an information message is printed and all <code>plot(..)</code> calls are ignored.</p><p>In order that plot windows are displayed, you need to add <code>PyPlot</code> to your current environment via <code>]add PyPlot</code>. Often this automatic installation fails and it is recommended to follow the instructions <a href="https://github.com/ModiaSim/ModiaMath.jl/wiki/Installing-PyPlot-in-a-robust-way">Installing PyPlot in a robust way</a>.</p><h2><a class="nav-anchor" id="Use-1" href="#Use-1">Use</a></h2><pre><code class="language-julia">  using ModiaMedia

  # Define thermodynamic property model to be used
  Medium = getMedium(&quot;N2&quot;);

  # Define the operating point where the medium shall be evaluated.
  p = 1e5    # in [Pa]
  T = 300.0  # in [K]

  # Set the medium-specific thermodynamic state from p and T
  # (could be also set from p,h, or p,s, or d,T, or
  # p,T,X, or p,h,X, or p,s,X, or d,T,X)
  state = setState_pT(Medium, p, T)

  # Update a state object with new values
  setState_pT!(state, p, T)

  # Call media functions (here to compute density and specific enthalpy)
  d = density(state)
  h = specificEnthalpy(state)

  # Print computed values
  println(&quot;data for p=$p, T=$T:&quot;)
  println(&quot;density          = &quot;, d)
  println(&quot;specificEnthalpy = &quot;, h)

  # List the available media
  listMedia()

  # Plot the most important characteristics of the medium
  standardPlot(Medium)</code></pre><p>This example generates the following plot:</p><p><img src="../resources/images/N2.png" alt="standardPlot"/></p><h2><a class="nav-anchor" id="Available-media-1" href="#Available-media-1">Available media</a></h2><p>The available thermodynamic property models can be listed with <code>listMedia()</code> resulting in:</p><table><tr><th>Row</th><th>name</th><th>type</th></tr><tr><td>1</td><td>Ar</td><td><a href="lib/MediaTypes.html#SingleGasNasa-1">SingleGasNasa</a></td></tr><tr><td>2</td><td>C2H2_vinylidene</td><td><a href="lib/MediaTypes.html#SingleGasNasa-1">SingleGasNasa</a></td></tr><tr><td>3</td><td>C2H4</td><td><a href="lib/MediaTypes.html#SingleGasNasa-1">SingleGasNasa</a></td></tr><tr><td>4</td><td>C2H5OH</td><td><a href="lib/MediaTypes.html#SingleGasNasa-1">SingleGasNasa</a></td></tr><tr><td>5</td><td>C2H6</td><td><a href="lib/MediaTypes.html#SingleGasNasa-1">SingleGasNasa</a></td></tr><tr><td>6</td><td>C3H6_propylene</td><td><a href="lib/MediaTypes.html#SingleGasNasa-1">SingleGasNasa</a></td></tr><tr><td>7</td><td>C3H8</td><td><a href="lib/MediaTypes.html#SingleGasNasa-1">SingleGasNasa</a></td></tr><tr><td>8</td><td>C4H10_n_butane</td><td><a href="lib/MediaTypes.html#SingleGasNasa-1">SingleGasNasa</a></td></tr><tr><td>9</td><td>C4H8_1_butene</td><td><a href="lib/MediaTypes.html#SingleGasNasa-1">SingleGasNasa</a></td></tr><tr><td>10</td><td>C5H10_1_pentene</td><td><a href="lib/MediaTypes.html#SingleGasNasa-1">SingleGasNasa</a></td></tr><tr><td>11</td><td>C5H12_n_pentane</td><td><a href="lib/MediaTypes.html#SingleGasNasa-1">SingleGasNasa</a></td></tr><tr><td>12</td><td>C6H12_1_hexene</td><td><a href="lib/MediaTypes.html#SingleGasNasa-1">SingleGasNasa</a></td></tr><tr><td>13</td><td>C6H14_n_hexane</td><td><a href="lib/MediaTypes.html#SingleGasNasa-1">SingleGasNasa</a></td></tr><tr><td>14</td><td>C6H6</td><td><a href="lib/MediaTypes.html#SingleGasNasa-1">SingleGasNasa</a></td></tr><tr><td>15</td><td>C7H14_1_heptene</td><td><a href="lib/MediaTypes.html#SingleGasNasa-1">SingleGasNasa</a></td></tr><tr><td>16</td><td>C7H16_n_heptane</td><td><a href="lib/MediaTypes.html#SingleGasNasa-1">SingleGasNasa</a></td></tr><tr><td>17</td><td>C8H10_ethylbenz</td><td><a href="lib/MediaTypes.html#SingleGasNasa-1">SingleGasNasa</a></td></tr><tr><td>18</td><td>C8H18_n_octane</td><td><a href="lib/MediaTypes.html#SingleGasNasa-1">SingleGasNasa</a></td></tr><tr><td>19</td><td>CH3OH</td><td><a href="lib/MediaTypes.html#SingleGasNasa-1">SingleGasNasa</a></td></tr><tr><td>20</td><td>CH4</td><td><a href="lib/MediaTypes.html#SingleGasNasa-1">SingleGasNasa</a></td></tr><tr><td>21</td><td>CL2</td><td><a href="lib/MediaTypes.html#SingleGasNasa-1">SingleGasNasa</a></td></tr><tr><td>22</td><td>CO</td><td><a href="lib/MediaTypes.html#SingleGasNasa-1">SingleGasNasa</a></td></tr><tr><td>23</td><td>CO2</td><td><a href="lib/MediaTypes.html#SingleGasNasa-1">SingleGasNasa</a></td></tr><tr><td>24</td><td>ConstantPropertyLiquidWater</td><td><a href="lib/MediaTypes.html#SimpleMedium-1">SimpleMedium</a></td></tr><tr><td>25</td><td>F2</td><td><a href="lib/MediaTypes.html#SingleGasNasa-1">SingleGasNasa</a></td></tr><tr><td>26</td><td>H2</td><td><a href="lib/MediaTypes.html#SingleGasNasa-1">SingleGasNasa</a></td></tr><tr><td>27</td><td>H2O</td><td><a href="lib/MediaTypes.html#SingleGasNasa-1">SingleGasNasa</a></td></tr><tr><td>28</td><td>He</td><td><a href="lib/MediaTypes.html#SingleGasNasa-1">SingleGasNasa</a></td></tr><tr><td>29</td><td>MoistAir</td><td><a href="lib/MediaTypes.html#MoistAir-1">MoistAir</a></td></tr><tr><td>30</td><td>N2</td><td><a href="lib/MediaTypes.html#SingleGasNasa-1">SingleGasNasa</a></td></tr><tr><td>31</td><td>N2O</td><td><a href="lib/MediaTypes.html#SingleGasNasa-1">SingleGasNasa</a></td></tr><tr><td>32</td><td>NH3</td><td><a href="lib/MediaTypes.html#SingleGasNasa-1">SingleGasNasa</a></td></tr><tr><td>33</td><td>NO</td><td><a href="lib/MediaTypes.html#SingleGasNasa-1">SingleGasNasa</a></td></tr><tr><td>34</td><td>NO2</td><td><a href="lib/MediaTypes.html#SingleGasNasa-1">SingleGasNasa</a></td></tr><tr><td>35</td><td>Ne</td><td><a href="lib/MediaTypes.html#SingleGasNasa-1">SingleGasNasa</a></td></tr><tr><td>36</td><td>O2</td><td><a href="lib/MediaTypes.html#SingleGasNasa-1">SingleGasNasa</a></td></tr><tr><td>37</td><td>SO2</td><td><a href="lib/MediaTypes.html#SingleGasNasa-1">SingleGasNasa</a></td></tr><tr><td>38</td><td>SO3</td><td><a href="lib/MediaTypes.html#SingleGasNasa-1">SingleGasNasa</a></td></tr><tr><td>39</td><td>SimpleAir</td><td><a href="lib/MediaTypes.html#SimpleIdealGasMedium-1">SimpleIdealGasMedium</a></td></tr></table><h2><a class="nav-anchor" id="Structure-of-package-1" href="#Structure-of-package-1">Structure of package</a></h2><p>A thermodynamic property model is a struct of the following type:</p><pre><code class="language-julia">mutable struct MediumName &lt;: ModiaMedia.AbstractMedium  # or of a subtype of AbstractMedium
    infos::ModiaMedia.FluidInfos
    fluidConstants::Vector{ModiaMedia.AbstractFluidConstants}
    fluidLimits::ModiaMedia.FluidLimits
    data  # medium specific data
end

struct FluidInfos
    mediumName::AbstractString                   # &quot;Name of the medium&quot;;
    substanceNames::Vector{AbstractString}       # &quot;Names of the mixture substances. Set substanceNames=[mediumName] if only one substance.&quot;;
    extraPropertiesNames::Vector{AbstractString} # &quot;Names of the additional (extra) transported properties. Set extraPropertiesNames=fill(\&quot;\&quot;,0) if unused&quot;
    ThermoStates::IndependentVariables           # &quot;Enumeration type for independent variables&quot;;
    singleState::Bool                            # &quot;= true, if u and d are not a function of pressure&quot;;
    reducedX::Bool                               # &quot;= true if medium contains the equation sum(X) = 1.0; set reducedX=true if only one substance (see docu for details)&quot;;
    fixedX::Bool                                 # &quot;= true if medium contains the equation X = reference_X&quot;;
    reference_p::Float64                         # &quot;Reference pressure of Medium: default 1 atmosphere&quot;;
    reference_T::Float64                         # &quot;Reference temperature of Medium: default 25 deg Celsius&quot;;
    reference_X::AbstractVector                  # &quot;Default mass fractions of medium&quot;;
    p_default::Float64                           # &quot;Default value for pressure of medium (for initialization)&quot;;
    T_default::Float64                           # &quot;Default value for temperature of medium (for initialization)&quot;;
    h_default::Float64                           # &quot;Default value for specific enthalpy of medium (for initialization)&quot;;
    X_default::Vector{Float64}                   # &quot;Default value for specific enthalpy of medium (for initialization)&quot;;
    nS::Int                                      # &quot;Number of substances&quot;
    nX::Int                                      # &quot;Number of mass fractions&quot;
    nXi::Int                                     # &quot;Default value for mass fractions of medium (for initialization)&quot;
    nC::Int                                      # &quot;Number of extra (outside of standard mass-balance) transported properties&quot;
    C_nominal::Vector{Float64}                   # &quot;Default for the nominal values for the extra properties&quot;
end

struct BasicFluidConstants &lt;: AbstractFluidConstants
    iupacName::AbstractString           # &quot;Complete IUPAC name (or common name, if non-existent)&quot;;
    casRegistryNumber::AbstractString   # &quot;Chemical abstracts sequencing number (if it exists)&quot;;
    chemicalFormula::AbstractString     # &quot;Chemical formula, (brutto, nomenclature according to Hill&quot;;
    structureFormula::AbstractString    # &quot;Chemical structure formula&quot;;
    molarMass::Float64                  # &quot;Molar mass&quot;;
end

mutable struct FluidLimits
    TMIN::Float64  # &quot;Minimum temperature&quot;;
    TMAX::Float64  # &quot;Maximum temperature&quot;;
    DMIN::Float64  # &quot;Minimum density&quot;;
    DMAX::Float64  # &quot;Maximum density&quot;;
    PMIN::Float64  # &quot;Minimum pressure&quot;;
    PMAX::Float64  # &quot;Maximum pressure&quot;;
    HMIN::Float64  # &quot;Minimum enthalpy&quot;;
    HMAX::Float64  # &quot;Maximum enthalpy&quot;;
    SMIN::Float64  # &quot;Minimum entropy&quot;;
    SMAX::Float64  # &quot;Maximum entropy&quot;;
end</code></pre><p>and all instances of this struct are stored in a <strong>dictionary</strong>. This dictionary is constructed in a preprocessing step by running &quot;ModiaMedia/dict/GenerateMediumDict.jl&quot;. This module contains code that was mostly automatically converted from Modelica.Media to Julia. The resulting dictionary is serialized and stored in &quot;ModiaMedia/src/Media/media.julia_serializer&quot;. When package ModiaMedia is compiled, this serialized dictionary is deserialized and included in the compiled package.</p><p>Function <code>ModiaMedia.Medium(name)</code> returns the <code>MediumXXX</code> instance stored in the medium dictionary with key <code>name</code>.</p><h2><a class="nav-anchor" id="Main-Developers-1" href="#Main-Developers-1">Main Developers</a></h2><ul><li><a href="https://rmc.dlr.de/sr/en/staff/martin.otter/">Martin Otter</a> (<a href="https://www.dlr.de/sr/en">DLR - Institute of System Dynamics and Control</a>)<br/></li><li>Hilding Elmqvist (<a href="http://www.mogram.net/">Mogram</a>),<br/></li><li><a href="http://www.merl.com/people/laughman">Chris Laughman</a> (<a href="http://www.merl.com/">MERL</a>).</li><li>All the content of ModiaMedia is based on <a href="https://doc.modelica.org/Modelica%203.2.3/Resources/helpDymola/Modelica_Media.html#Modelica.Media">Modelica.Media</a> which was and is developed from many people.</li></ul><p>License: MIT (expat)</p><h2><a class="nav-anchor" id="Release-Notes-1" href="#Release-Notes-1">Release Notes</a></h2><p>The ModiaMedia package development has just started and a lot has to be improved.</p><h3><a class="nav-anchor" id="Version-0.1.0-dev-1" href="#Version-0.1.0-dev-1">Version 0.1.0-dev</a></h3><p>A version is not yet released.</p><footer><hr/><a class="next" href="lib/MediaTypes.html"><span class="direction">Next</span><span class="title">Media Types</span></a></footer></article></body></html>
